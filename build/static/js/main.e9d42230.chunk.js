(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},139:function(e,t,a){e.exports=a.p+"static/media/money-loader.509e82cc.gif"},153:function(e,t,a){e.exports=a(325)},158:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},197:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),c=a(37),s=a.n(c),i=(a(158),a(12)),l=a(15),u=a(17),m=a(16),d=a(18),h=a(14),p=(a(160),a(97),a(333)),g=a(332),E=a(151),f=a(25),v=a(50),b=a.n(v),y=a(27),w=a.n(y),C=new(function(){function e(){var t=this;Object(i.a)(this,e),this.addCategory=function(){t.postRequests("category",{name:"business",type:0,Icon:"faGlobe"})},this.addRecord=function(e){return e.userId=1,t.postRequests("record",e)},this.deleteRecord=function(e){return t.deleteRequests("record",e)},this.deleteCategory=function(){t.deleteRequests("category",8)},this.editCategories=function(){t.putRequests("category",{id:13,name:"sport",type:0,Icon:"faSport"})},this.editRecord=function(e){return e.userId=1,t.putRequests("record",e)}}return Object(l.a)(e,[{key:"getRequests",value:function(e){return w.a.get("/".concat(e)).then(function(e){console.log(e)}).catch(function(e){console.log("Sorry, something wrong. Get request failed",e)})}},{key:"deleteRequests",value:function(e,t){return console.log(e,t),w.a.delete("/delete/".concat(e,"/").concat(t)).then(function(e){console.log("success",e)}).catch(function(e){console.log("Sorry, something wrong. delete request failed",e)})}},{key:"putRequests",value:function(e,t){return w.a.put("/".concat(e),t,{headers:{"Content-Type":"application/json"}}).then(function(e){console.log("DB Updated",e)}).catch(function(e){console.log(e)})}},{key:"postRequests",value:function(e,t){return w.a.post("/".concat(e),t,{headers:{"Content-Type":"application/json"}}).then(function(e){console.log("successful post-request",e)}).catch(function(e){console.log("Sorry, something wrong. New data hasn't been added.",e)})}},{key:"getDataFromDB",value:function(){console.log("aaa");return w.a.get("/getData/".concat(1))}},{key:"getCategoriesFromDB",value:function(){return w.a.get("/categories")}}]),e}()),O=(a(103),a(20)),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).addRecord=function(){if(e.state.amount<=0)e.setState({isRed:"red"});else{var t=("Expense"===e.state.type?e.state.categoriesExpense.filter(function(t){return t.name===e.state.category}):e.state.categoriesIncome.filter(function(t){return t.name===e.state.category}))[0].id,a="Cash"===e.state.paymentMethod?0:1,n="Expense"===e.state.type?0:1,r=e.state,o={date:r.date,type:n,categoryId:t,paymentMethod:a,amount:r.amount,currency:r.currency,comment:r.comment};C.addRecord(o).then(function(t){e.props.closeAddForm(),e.props.getRecords()}).catch(function(e){return console.log(e)})}},e.inputChange=function(t){var a;if("type"===t.target.name){var n,r;return r="Income"===t.target.value?e.state.categoriesIncome[0].name:e.state.categoriesExpense[0].name,void e.setState((n={},Object(f.a)(n,t.target.name,t.target.value),Object(f.a)(n,"category",r),n))}e.setState((a={},Object(f.a)(a,t.target.name,t.target.value),Object(f.a)(a,"isRed",""),a))},e.categoriesExpense=[],e.categoriesIncome=[],e.currencies=["NIS","USD","EUR"],e.state={date:"",type:"Expense",category:"",paymentMethod:"Cash",amount:0,currency:"NIS",comment:"",categoriesExpense:[],categoriesIncome:[],isRed:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCategories()}},{key:"getCategories",value:function(){var e=this;C.getCategoriesFromDB().then(function(t){var a=t.data.filter(function(e){return 0===e.type}),n=t.data.filter(function(e){return 1===e.type}),r=new Date;r=b()(r).format("YYYY-MM-DD");var o=a[0].name;e.setState({categoriesExpense:a,categoriesIncome:n,date:r,category:o})}).catch(function(e){console.log(e),alert("Problem with DB")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"add-form"},o.a.createElement("div",{className:"close-button"},o.a.createElement(O.a,{onClick:this.props.closeAddForm,icon:"window-close"})),o.a.createElement("div",null,"ADD NEW"),o.a.createElement("div",{className:"add-form-input"},o.a.createElement("div",{className:"one-column1",onChange:this.inputChange,name:"type"},o.a.createElement("div",null," Expense ",o.a.createElement("input",{type:"radio",checked:"Expense"===this.state.type,onChange:this.inputChange,value:"Expense",name:"type"})," "),o.a.createElement("span",null," "),o.a.createElement("div",null," Income ",o.a.createElement("input",{type:"radio",checked:"Income"===this.state.type,onChange:this.inputChange,value:"Income",name:"type"})," ")),o.a.createElement("div",{className:"one-column1",onChange:this.inputChange,name:"paymentMethod"},o.a.createElement("div",null," Cash ",o.a.createElement("input",{type:"radio",checked:"Cash"===this.state.paymentMethod,onChange:this.inputChange,value:"Cash",name:"paymentMethod"})," "),o.a.createElement("span",null," "),o.a.createElement("div",null," Card ",o.a.createElement("input",{type:"radio",checked:"Card"===this.state.paymentMethod,onChange:this.inputChange,value:"Card",name:"paymentMethod"})," ")),o.a.createElement("div",null," Date:"),o.a.createElement("div",null," ",o.a.createElement("input",{name:"date",type:"date",value:this.state.date,onChange:this.inputChange})),o.a.createElement("div",null," Category: "),o.a.createElement("div",{className:"sel"}," ",o.a.createElement("select",{name:"category",value:this.state.category,onChange:this.inputChange},"Expense"===this.state.type?this.state.categoriesExpense.map(function(e,t){return o.a.createElement("option",{key:t,value:e.name},e.name)}):this.state.categoriesIncome.map(function(e,t){return o.a.createElement("option",{key:t,value:e.name},e.name)}))),o.a.createElement("div",null," Amount"),o.a.createElement("div",{className:this.state.isRed}," ",o.a.createElement("input",{type:"number",name:"amount",value:this.state.amount,onChange:this.inputChange})," "),o.a.createElement("div",null," Currency: "),o.a.createElement("div",{className:"sel"}," ",o.a.createElement("select",{name:"currency",value:this.state.currency,onChange:this.inputChange},this.currencies.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)}),";")),o.a.createElement("div",null," Comment"),o.a.createElement("div",null," ",o.a.createElement("input",{type:"text",name:"comment",value:this.state.comment,onChange:this.inputChange})," ")),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.addRecord},"Send")))}}]),t}(r.Component),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).editRecord=function(){console.log(e.state);var t=("Expense"===e.state.type?e.state.categoriesExpense.filter(function(t){return t.name===e.state.category}):e.state.categoriesIncome.filter(function(t){return t.name===e.state.category}))[0].id,a="Cash"===e.state.paymentMethod?0:1,n="Expense"===e.state.type?0:1,r=e.state,o=r.date,c=r.amount,s=r.currency,i=r.comment,l={id:e.props.recordIdToEdit,date:o,type:n,categoryId:t,paymentMethod:a,amount:c,currency:s,comment:i};C.editRecord(l).then(function(t){e.props.closeEditForm(),e.props.getRecords()}).catch(function(e){return console.log(e)})},e.inputChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.inputChangeType=function(t){var a,n;n="Income"===t.target.value?e.state.categoriesIncome[0].name:e.state.categoriesExpense[0].name,console.log(n),e.setState((a={},Object(f.a)(a,t.target.name,t.target.value),Object(f.a)(a,"category",n),a))},e.categoriesExpense=[],e.categoriesIncome=[],e.currencies=["NIS","USD","EUR"],e.state={date:"",type:"",category:"",paymentMethod:"",amount:"",currency:"",comment:"",categoriesExpense:[],categoriesIncome:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCategories();var e=this.props.recordIdToEdit,t=this.props.records.filter(function(t){return t.id===e})[0],a=t.date,n=t.type,r=t.category,o=t.paymentMethodId,c=t.amount,s=t.currency,i=t.comment;n=0===n?"Expense":"Income",r=r.name;var l=0===o?"Cash":"Card";console.log("comp did mount"),console.log(r),this.setState({date:a,type:n,category:r,paymentMethod:l,amount:c,currency:s,comment:i})}},{key:"getCategories",value:function(){var e=this;C.getCategoriesFromDB().then(function(t){var a=t.data.filter(function(e){return 0===e.type}),n=t.data.filter(function(e){return 1===e.type}),r=new Date;r=b()(r).format("YYYY-MM-DD");var o=a[0].name;e.setState({categoriesExpense:a,categoriesIncome:n,date:r,category:o})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"add-form"},o.a.createElement("div",{className:"close-button"},o.a.createElement(O.a,{onClick:this.props.closeEditForm,icon:"window-close"})),o.a.createElement("div",null,"EDIT"),o.a.createElement("div",{className:"add-form-input"},o.a.createElement("div",{className:"one-column1",onChange:this.inputChangeType,name:"type"},o.a.createElement("div",null," Expense ",o.a.createElement("input",{type:"radio",checked:"Expense"===this.state.type,onChange:this.inputChangeType,value:"Expense",name:"type"})," "),o.a.createElement("span",null," "),o.a.createElement("div",null," Income ",o.a.createElement("input",{type:"radio",checked:"Income"===this.state.type,onChange:this.inputChangeType,value:"Income",name:"type"})," ")),o.a.createElement("div",{className:"one-column1",onChange:this.inputChange,name:"paymentMethod"},o.a.createElement("div",null," Cash ",o.a.createElement("input",{type:"radio",checked:"Cash"===this.state.paymentMethod,onChange:this.inputChange,value:"Cash",name:"paymentMethod"})," "),o.a.createElement("span",null," "),o.a.createElement("div",null," Card ",o.a.createElement("input",{type:"radio",checked:"Card"===this.state.paymentMethod,onChange:this.inputChange,value:"Card",name:"paymentMethod"})," ")),o.a.createElement("div",null," Date:"),o.a.createElement("div",null," ",o.a.createElement("input",{name:"date",type:"date",value:this.state.date,onChange:this.inputChange})),o.a.createElement("div",null," Category: "),o.a.createElement("div",{className:"sel"}," ",o.a.createElement("select",{name:"category",value:this.state.category,onChange:this.inputChange},"Expense"===this.state.type?this.state.categoriesExpense.map(function(e,t){return o.a.createElement("option",{key:t,value:e.name},e.name)}):this.state.categoriesIncome.map(function(e,t){return o.a.createElement("option",{key:t,value:e.name},e.name)}))),o.a.createElement("div",null," Amount"),o.a.createElement("div",null," ",o.a.createElement("input",{type:"number",name:"amount",value:this.state.amount,onChange:this.inputChange})),o.a.createElement("div",null," Currency: "),o.a.createElement("div",{className:"sel"}," ",o.a.createElement("select",{name:"currency",value:this.state.currency,onChange:this.inputChange},this.currencies.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)}),";")),o.a.createElement("div",null," Comment"),o.a.createElement("div",null," ",o.a.createElement("input",{type:"text",name:"comment",value:this.state.comment,onChange:this.inputChange})," ")),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.editRecord},"Send")))}}]),t}(r.Component),k=(a(184),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).deleteRecord=function(){C.deleteRecord(a.props.recordIdToDelete).then(function(e){a.props.closeDeleteForm(),a.props.getRecords()}).catch(function(e){return console.log(e)})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"delete-form"},o.a.createElement("div",{className:"close-button"},o.a.createElement(O.a,{onClick:this.props.closeDeleteForm,icon:"window-close"})),o.a.createElement("div",null,"Are you sure you want to delete this record? "),o.a.createElement("div",{className:"div-button"},o.a.createElement("button",{onClick:this.deleteRecord},"YES"),o.a.createElement("span",null," "),o.a.createElement("button",{onClick:this.props.closeDeleteForm},"NO")))}}]),t}(r.Component)),N=(a(186),a(139)),D=a.n(N),x=a(61),R=a(24);x.b.add(R.a,R.b,R.c,R.n,R.k,R.i,R.j,R.d,R.m,R.l,R.e,R.g,R.f);var M,S,T,F,A,z,Y,B=10,P=Object(h.b)("store")(n=Object(h.c)(n=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getRecords=function(){C.getDataFromDB().then(function(t){var a=t.data[0].record;a.sort(function(e,t){return new Date(t.date)-new Date(e.date)}),e.setState({allRecords:a,isLoading:!1})}).catch(function(e){console.log(e)})},e.changeInput=function(t){return e.setState(Object(f.a)({},t.target.name,t.target.value))},e.changePage=function(t){var a=e.state.currentPage;"plus"===t?a++:a--,e.setState({currentPage:a}),e.getCurrentRecords()},e.showLoader=function(){return e.state.isLoading?o.a.createElement("div",{className:"loading"}," ",o.a.createElement("img",{src:D.a})):null},e.showHeader=function(){return o.a.createElement("div",{id:"grid-header"},e.fields.map(function(e,t){return o.a.createElement("div",{key:t},e)}))},e.showSearchBar=function(){return o.a.createElement("div",{className:"search-bar"},"From: ",o.a.createElement("input",{type:"date",name:"startDate",value:e.state.startDate,onChange:e.changeInput}),o.a.createElement("span",null," "),"To: ",o.a.createElement("input",{type:"date",name:"endDate",value:e.state.endDate,onChange:e.changeInput}),o.a.createElement("span",null," "),o.a.createElement("input",{type:"text",placeholder:"Search by comment",name:"textTosearch",value:e.state.textTosearch,onChange:e.changeInput}))},e.showPagination=function(t,a,n){return o.a.createElement("div",{className:"pagination"},1!==e.state.currentPage?o.a.createElement(O.a,{onClick:function(t){return e.changePage("minus")},icon:"angle-left",size:"1x"}):null,o.a.createElement("span",null," ")," ",t," - ",a," ",o.a.createElement("span",null," "),e.state.currentPage!==n?o.a.createElement(O.a,{onClick:function(){return e.changePage("plus")},icon:"angle-right",size:"1x"}):null)},e.showAddForm=function(){e.setState({showAddForm:!0})},e.closeAddForm=function(){return e.setState({showAddForm:!1})},e.closeEditForm=function(){return e.setState({recordIdToEdit:-1})},e.closeDeleteForm=function(){return e.setState({recordIdToDelete:-1})},e.getCurrentRecords=function(){var t=Object(E.a)(e.state.allRecords),a=(e.state.currentPage-1)*B+1,n=a+B-1;t=t.filter(function(t){return t.comment.toLowerCase().includes(e.state.textTosearch.toLowerCase())&&(t.date>=e.state.startDate||""===e.state.startDate)&&(t.date<=e.state.endDate||""===e.state.endDate)});var r=Math.ceil(t.length/B);return{records:t=t.slice(a-1,n),startIndex:a,endIndex:n,lastPage:r}},e.renderRecords=function(t){return o.a.createElement("div",{id:"grid-container"},e.showHeader(),t.map(function(t){var a=b()(t.date).format("MM/DD/YY");return o.a.createElement("div",{className:"item",key:t.id},o.a.createElement("div",null,a),o.a.createElement("div",null,t.type?o.a.createElement(O.a,{icon:"plus"}):o.a.createElement(O.a,{icon:"minus"})),o.a.createElement("div",null,t.category.name),o.a.createElement("div",null,"cash"===t.paymentMethod.name?o.a.createElement(O.a,{icon:"money-bill-alt"}):o.a.createElement(O.a,{icon:"credit-card"})," "),o.a.createElement("div",null,t.amount),o.a.createElement("div",null,o.a.createElement(O.a,{icon:e.currencyIcon[t.currency]})),o.a.createElement("div",null,t.comment),o.a.createElement("div",null,o.a.createElement(O.a,{icon:"trash-alt",onClick:function(){return e.deleteRecord(t.id)}}),o.a.createElement("span",null," "),o.a.createElement(O.a,{icon:"edit",onClick:function(){return e.editRecord(t.id)}})))}))},e.editRecord=function(t){e.setState({recordIdToEdit:t})},e.deleteRecord=function(t){e.setState({recordIdToDelete:t})},e.fields=["Date","Type","Category","Method","Amount","Currency","Comments"],e.currencyIcon={NIS:"shekel-sign",EUR:"euro-sign",USD:"dollar-sign"},e.state={isLoading:!0,allRecords:"",textTosearch:"",startDate:"2018-01-01",endDate:"2018-10-29",currentPage:1,showAddForm:!1,recordIdToEdit:-1,recordIdToDelete:-1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getRecords()}},{key:"render",value:function(){var e=this,t=this.getCurrentRecords(),a=t.records,n=t.startIndex,r=t.endIndex,c=t.lastPage;return o.a.createElement("div",null,this.props.store.loggedIn?o.a.createElement("div",null,o.a.createElement("div",{className:"App"},this.props.store.showNavBar(),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row-bar"},this.showSearchBar(),this.showPagination(n,r,c)),this.renderRecords(a),this.state.showAddForm?o.a.createElement(j,{closeAddForm:this.closeAddForm,getRecords:this.getRecords}):null,-1!==this.state.recordIdToEdit?o.a.createElement(I,{closeEditForm:this.closeEditForm,recordIdToEdit:this.state.recordIdToEdit,records:a,getRecords:this.getRecords}):null,-1!==this.state.recordIdToDelete?o.a.createElement(k,{closeDeleteForm:this.closeDeleteForm,recordIdToDelete:this.state.recordIdToDelete,getRecords:this.getRecords}):null,this.showLoader())),o.a.createElement("div",{className:"dot"}," ",o.a.createElement(O.a,{size:"6x",onClick:function(){return e.showAddForm()},icon:"plus"}))):null)}}]),t}(r.Component))||n)||n,L=a(334),U=a(74),q=a.n(U),_=(a(104),Object(h.b)("store")(M=Object(h.c)(M=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this)))._showErrorMessage=function(){e.props.setTimeout(e.props.store.toggle,5e3)},e.handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.logIn=function(){e.state.username&&e.state.password?w.a.post("/logIn",{username:e.state.username,password:e.state.password}).then(function(t){console.log("login",t),200===t.status&&(!1!==t.data?(e.props.store.loggedIn=!0,e.props.store.id=t.data.id,e.props.store.username=t.data.name,e.setState({redirectTo:"/main"})):(e.props.store.errorMessage="wrong login or password",e.props.store.showErrorMessage=!0,e._showErrorMessage(),e.clear()))}):(e.props.store.errorMessage="Type name and password",e.props.store.showErrorMessage=!0,e._showErrorMessage())},e.state={redirectTo:null,username:"",password:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"clear",value:function(){this.setState({username:"",password:""})}},{key:"render",value:function(){return this.state.redirectTo?o.a.createElement(L.a,{to:{pathname:this.state.redirectTo}}):o.a.createElement("div",{className:"reg-box"},o.a.createElement(O.a,{style:{color:"white"},className:"fas",icon:R.h,size:"6x"}),o.a.createElement("h3",{className:"text-center"},"Log In"),o.a.createElement("div",{className:"row log"},o.a.createElement("div",{className:"col-4 "}," Name:"),o.a.createElement("div",{className:"col-8"},o.a.createElement("input",{type:"text",className:"inp-reg",id:"usernameLogIn",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),o.a.createElement("div",{className:"row pas"},o.a.createElement("div",{className:"col-4 "},"Password:"),o.a.createElement("div",{className:"col-8"},o.a.createElement("input",{type:"password",className:"inp-reg",id:"passwordLogIn",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}))," "),o.a.createElement("button",{className:"button button-reg",onClick:this.logIn},o.a.createElement("span",null,"Log In")),this.props.store.showErrorMessage?o.a.createElement("div",{className:"error-message"},this.props.store.errorMessage):null)}}]),t}(r.Component))||M)||M),G=q()(_),K=a(328),J=Object(h.b)("store")(S=Object(h.c)(S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,this.props.store.loggedIn?null:o.a.createElement("div",null,o.a.createElement(K.a,{to:"/login",className:"btn btn-link text-secondary"},o.a.createElement("span",{className:"text-white"},"login")),"\xa0|\xa0",o.a.createElement(K.a,{to:"/signup",className:"btn btn-link text-secondary"},o.a.createElement("span",{className:"text-white"},"signup"))))}}]),t}(r.Component))||S)||S,W=(a(197),a(329)),H=a(330),$=a(136),Q=a(137),V=a(327),X=a(138),Z=a(326),ee=Object(h.b)("store")(T=Object(h.c)(T=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getDate=function(){var t=new Date,a=t.getFullYear(),n=t.getMonth();e.setState({year:a,month:n})},e.inputChange=function(t){console.log(t.target.name),e.setState(Object(f.a)({},t.target.name,t.target.value))},e.state={year:2018,month:0},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getDate()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Expenses per Year"),o.a.createElement(W.a,{width:700,height:300,data:this.props.store.dataExpense,margin:{top:20,right:30,left:20,bottom:5}},o.a.createElement(H.a,{strokeDasharray:"3 3"}),o.a.createElement($.a,{dataKey:"name",stroke:"white"}),o.a.createElement(Q.a,{dataKey:"amount",stroke:"white"}),o.a.createElement(V.a,null),o.a.createElement(X.a,null),o.a.createElement(Z.a,{dataKey:"amount",stackId:"a",fill:"#8884d8"})))}}]),t}(r.Component))||T)||T,te=a(331),ae=a(323),ne=Object(h.b)("store")(F=Object(h.c)(F=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={dataForChart:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",null," Expenses And Income per Year"),o.a.createElement(te.a,{width:600,height:300,data:this.props.store.dataExpenseIncomeYear,margin:{top:5,right:30,left:20,bottom:5}},o.a.createElement($.a,{dataKey:"name",stroke:"white"}),o.a.createElement(Q.a,{stroke:"white"}),o.a.createElement(H.a,{strokeDasharray:"3 3"}),o.a.createElement(V.a,null),o.a.createElement(X.a,null),o.a.createElement(ae.a,{type:"monotone",dataKey:"expense",stroke:"white",activeDot:{r:8}}),o.a.createElement(ae.a,{type:"monotone",dataKey:"income",stroke:"#82ca9d"})))}}]),t}(r.Component))||F)||F,re=Object(h.b)("store")(A=Object(h.c)(A=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.store.getDataFromDB()}},{key:"render",value:function(){return console.log("this state",this.props.store.allRecords),console.log("loggedIn",this.props.store.loggedIn),o.a.createElement("div",{className:"App"},this.props.store.loggedIn?o.a.createElement("div",null,this.props.store.showNavBar(),o.a.createElement("h1",null,"Statistics"),o.a.createElement("div",{className:"charts-box"},o.a.createElement(ee,null),o.a.createElement(ne,null))):null)}}]),t}(r.Component))||A)||A,oe=Object(h.b)("store")(z=Object(h.c)(z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this)))._showErrorMessage=function(){e.props.setTimeout(e.props.store.toggle,5e3)},e.handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.sendNewUserData=function(){console.log("send",e.state),e.state.username&&e.state.password?(w.a.post("http://localhost:5001/addUser",e.state).then(function(t){200===t.status?(console.log("response",t),t.data.error?(e.props.store.errorMessage="This name already exists",e.props.store.showErrorMessage=!0,e._showErrorMessage()):(e.props.store.showErrorMessage=!0,e.props.store.errorMessage="New login created",e._showErrorMessage())):console.log("error")}).catch(function(e){console.log("error",e)}),e.clearInputs()):(e.props.store.errorMessage="Type name and password",e.props.store.showErrorMessage=!0,e._showErrorMessage())},e.state={username:"",password:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"clearInputs",value:function(){this.setState({username:"",password:""})}},{key:"getRegistration",value:function(){return o.a.createElement("div",{className:"reg-box"},o.a.createElement(O.a,{style:{color:"white"},className:"fas",icon:R.h,size:"6x"}),o.a.createElement("h3",{className:"text-center"},"Sign Up"),o.a.createElement("div",{className:"row log"},o.a.createElement("div",{className:"col-4 "}," Name:"),o.a.createElement("div",{className:"col-8"},o.a.createElement("input",{className:"inp-reg",type:"text",id:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange}))),o.a.createElement("div",{className:"row pas"},o.a.createElement("div",{className:"col-4 "},"Password:"),o.a.createElement("div",{className:"col-8"},o.a.createElement("input",{className:"inp-reg",type:"password",id:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange}))," "),o.a.createElement("button",{className:"button button-reg",onClick:this.sendNewUserData},o.a.createElement("span",null,"Sign Up")),this.props.store.showErrorMessage?o.a.createElement("div",{className:"error-message"},this.props.store.errorMessage):null)}},{key:"render",value:function(){return o.a.createElement("div",null,this.getRegistration())}}]),t}(r.Component))||z)||z,ce=q()(oe),se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"home-box"},o.a.createElement(ce,null))}}]),t}(r.Component),ie=Object(h.b)("store")(Y=Object(h.c)(Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(p.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"title t-font"}),o.a.createElement(J,{logout:this.props.store.logout}),o.a.createElement(g.a,{exact:!0,path:"/",component:se}),o.a.createElement(g.a,{path:"/signup",render:function(){return o.a.createElement(ce,null)}}),o.a.createElement(g.a,{path:"/login",render:function(){return o.a.createElement(G,null)}}),o.a.createElement(g.a,{path:"/main",render:function(){return o.a.createElement(P,{logout:e.props.store.logout,loggedIn:e.props.store.loggedIn,id:e.props.store.id})}}),o.a.createElement(g.a,{path:"/statistics",render:function(){return o.a.createElement(re,null)}})))}}]),t}(r.Component))||Y)||Y;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var le,ue,me,de,he,pe,ge,Ee,fe,ve,be,ye,we,Ce,Oe,je,Ie,ke,Ne,De=a(21),xe=a(22),Re=(a(324),a(11)),Me={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sept",10:"Oct",11:"Nov",12:"Dec"},Se=new(le=function e(){var t=this;Object(i.a)(this,e),Object(De.a)(this,"username",ue,this),Object(De.a)(this,"id",me,this),Object(De.a)(this,"isLoading",de,this),Object(De.a)(this,"loggedIn",he,this),Object(De.a)(this,"showErrorMessage",pe,this),Object(De.a)(this,"errorMessage",ge,this),Object(De.a)(this,"allRecords",Ee,this),Object(De.a)(this,"dataExpense",fe,this),Object(De.a)(this,"dataExpenseIncomeYear",ve,this),Object(De.a)(this,"limitation",be,this),Object(De.a)(this,"getDataFromDB",ye,this),Object(De.a)(this,"logout",we,this),Object(De.a)(this,"toggle",Ce,this),Object(De.a)(this,"generateNewData",Oe,this),this.getDataForCharts=Object(Re.l)(function(){return t.allRecords},function(e){e.length&&(t.generateNewData(),t.generateNewDataYear())}),Object(De.a)(this,"showNavBar",je,this),Object(De.a)(this,"changeLimitation",Ie,this),Object(De.a)(this,"generateNewDataYear",ke,this),this.addNewUserToState=function(e){t.users.push(e),console.log(t.users)},Object(De.a)(this,"convertCurrency",Ne,this)},ue=Object(xe.a)(le.prototype,"username",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),me=Object(xe.a)(le.prototype,"id",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),de=Object(xe.a)(le.prototype,"isLoading",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),he=Object(xe.a)(le.prototype,"loggedIn",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=Object(xe.a)(le.prototype,"showErrorMessage",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=Object(xe.a)(le.prototype,"errorMessage",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=Object(xe.a)(le.prototype,"allRecords",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=Object(xe.a)(le.prototype,"dataExpense",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve=Object(xe.a)(le.prototype,"dataExpenseIncomeYear",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),be=Object(xe.a)(le.prototype,"limitation",[Re.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2e3}}),ye=Object(xe.a)(le.prototype,"getDataFromDB",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("GETDATAFROMDB"),w.a.get("/getData/".concat(1)).then(function(t){e.allRecords=t.data[0].record,console.log("store allrecords",e.allRecords),e.isLoading=!1})}}}),we=Object(xe.a)(le.prototype,"logout",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("close"),e.loggedIn=!1}}}),Ce=Object(xe.a)(le.prototype,"toggle",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.showErrorMessage=!e.showErrorMessage}}}),Oe=Object(xe.a)(le.prototype,"generateNewData",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("GENERATEDATA",e.allRecords);var t=[],a=[];e.allRecords.forEach(function(e,n,r){if(console.log("item"),1!==e.type){var o=a.indexOf(e.category.name);if(-1===o){var c=e.category.name;console.log("category name",c,e.amount),t.push({name:c,amount:e.amount}),a.push(c)}else t[o].amount+=e.amount}}),console.log("catAmount",t,"income",[]),e.dataExpense=t}}}),je=Object(xe.a)(le.prototype,"showNavBar",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return o.a.createElement("ul",{id:"nav-bar"},o.a.createElement("li",null,o.a.createElement(K.a,{to:"/main"},o.a.createElement("span",null,"RECORDS"))),o.a.createElement("li",null,o.a.createElement(K.a,{to:"/statistics"},o.a.createElement("span",null,"STATISTIC"))),o.a.createElement("div",{className:"text-right"},o.a.createElement(K.a,{to:"/"},o.a.createElement("span",{onClick:e.logout},"LOGOUT"))))}}}),Ie=Object(xe.a)(le.prototype,"changeLimitation",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t={id:e.props.store.id,limitation:e.props.store.limitation};C.putRequests("limitation",t)}}}),ke=Object(xe.a)(le.prototype,"generateNewDataYear",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){for(var t=e.allRecords,a=[],n={},r={},o=(new Date).getFullYear(),c=0;c<t.length;c++){var s=new Date(t[c].date);if(s.getFullYear()===o){var i=s.getMonth();console.log("data type",t[c].type),0===t[c].type?n[i]=void 0!==n[i]?n[i]+t[c].amount:t[c].amount:r[i]=void 0!==r[i]?r[i]+t[c].amount:t[c].amount}}console.log("monthAmount",n),console.log("monthAmountIncome",r);for(var l=1;l<=12;l++){var u={name:Me[l],expense:n[l],income:r[l]};a.push(u)}console.log("resultArray",a),e.dataExpenseIncomeYear=a}}}),Ne=Object(xe.a)(le.prototype,"convertCurrency",[Re.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currency;return w.a.get("http://data.fixer.io/api/convert?access_key=".concat("d808c36e40546d97843e42050e80a2a7","&from=").concat(e.cFrom,"&to=").concat(e.cTo,"&amount=").concat(e.cAmount)).then(function(e){console.log(e)}).catch(function(e){console.log("Sorry, something wrong. Get request failed",e)})}}}),le);window.store=Se;var Te=Se;window.store=Te,s.a.render(o.a.createElement(h.a,{store:Te},o.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){}},[[153,2,1]]]);
//# sourceMappingURL=main.e9d42230.chunk.js.map